# LanLink CLI ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨æœåŠ¡

```bash
# é»˜è®¤å¯åŠ¨ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
lanlink

# æˆ–æ˜¾å¼ä½¿ç”¨ start å‘½ä»¤
lanlink start
```

ç¨‹åºä¼šåœ¨å‰å°è¿è¡Œï¼ŒæŒ‰ `Ctrl+C` é€€å‡ºã€‚

---

## ğŸ“Š æŸ¥çœ‹çŠ¶æ€

### æŸ¥çœ‹å®Œæ•´çŠ¶æ€

```bash
lanlink status
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  LanLink çŠ¶æ€æ¦‚è§ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

è¿è¡ŒçŠ¶æ€:
âœ“ è¿›ç¨‹è¿è¡Œä¸­ (PID: 12345)
  å†…å­˜å ç”¨: 18.5 MB
  è¿è¡Œæ—¶é•¿: 2.5 å°æ—¶

æ—¥å¿—çŠ¶æ€:
âœ“ æ—¥å¿—æ–‡ä»¶å­˜åœ¨
  æœ€åæ›´æ–°: 5 ç§’å‰
âœ“ æ—¥å¿—æ´»è·ƒï¼ˆç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼‰

é…ç½®ä¿¡æ¯:
  è®¾å¤‡å: mypc
  åŸŸååç¼€: local
  ç»„æ’­åœ°å€: 239.255.0.1:9527
  å¿ƒè·³é—´éš”: 10 ç§’
  ç¦»çº¿è¶…æ—¶: 30 ç§’

èŠ‚ç‚¹ç»Ÿè®¡:
  åœ¨çº¿èŠ‚ç‚¹: 3 ä¸ª
  æ€»èŠ‚ç‚¹: 3 ä¸ª

æœ€è¿‘æ´»åŠ¨:
  [14:30:00] èŠ‚ç‚¹ä¸Šçº¿: server (server.local -> 192.168.1.101)
  [14:30:05] å·²æ›´æ–°hosts: server.local -> 192.168.1.101
  [14:30:10] èŠ‚ç‚¹ä¸Šçº¿: nas (nas.local -> 192.168.1.102)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ ç³»ç»Ÿè¿è¡Œæ­£å¸¸
```

---

## ğŸ“‹ åˆ—å‡ºèŠ‚ç‚¹

### åŸºæœ¬ç”¨æ³•

```bash
# åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹
lanlink list

# ç®€å†™
lanlink ls
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  èŠ‚ç‚¹åˆ—è¡¨ (åœ¨çº¿: 3, ç¦»çº¿: 0)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

çŠ¶æ€  åŸŸå              IP åœ°å€          ä¸»æœºå      æœ€åå¿ƒè·³         
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“    mypc.local       192.168.1.100    MYPC        (æœ¬æœº)
âœ“    server.local     192.168.1.101    SERVER      5ç§’å‰
âœ“    nas.local        192.168.1.102    NAS         8ç§’å‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å…± 3 ä¸ªèŠ‚ç‚¹
```

### é«˜çº§ç”¨æ³•

```bash
# ä»…æ˜¾ç¤ºåœ¨çº¿èŠ‚ç‚¹
lanlink list --online

# ä»…æ˜¾ç¤ºç¦»çº¿èŠ‚ç‚¹
lanlink list --offline

# JSON æ ¼å¼è¾“å‡ºï¼ˆä¾¿äºè„šæœ¬å¤„ç†ï¼‰
lanlink list --json
```

**JSON è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "nodes": [
    {
      "Domain": "server.local",
      "IP": "192.168.1.101",
      "Hostname": "SERVER",
      "Status": "online",
      "LastSeen": "2024-11-27T14:30:05Z",
      "IsLocal": false
    }
  ],
  "summary": {
    "online": 3,
    "offline": 0,
    "total": 3
  }
}
```

---

## ğŸ“ æŸ¥çœ‹æ—¥å¿—

### åŸºæœ¬ç”¨æ³•

```bash
# æŸ¥çœ‹æœ€å 50 è¡Œæ—¥å¿—ï¼ˆé»˜è®¤ï¼‰
lanlink logs

# æŸ¥çœ‹æœ€å N è¡Œ
lanlink logs -n 100

# å®æ—¶è·Ÿè¸ªæ—¥å¿—ï¼ˆç±»ä¼¼ tail -fï¼‰
lanlink logs -f
```

### è¿‡æ»¤æ—¥å¿—

```bash
# ä»…æ˜¾ç¤ºé”™è¯¯
lanlink logs --level error

# ä»…æ˜¾ç¤ºè­¦å‘Š
lanlink logs --level warn

# ä»…æ˜¾ç¤ºä¿¡æ¯
lanlink logs --level info
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  æœ€è¿‘ 50 è¡Œæ—¥å¿—
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[2024-11-27 14:30:00] [INFO] === LanLink å¯åŠ¨ ===
[2024-11-27 14:30:00] [INFO] è®¾å¤‡åç§°: mypc
[2024-11-27 14:30:00] [INFO] Hostsæ–‡ä»¶åˆå§‹åŒ–å®Œæˆ
[2024-11-27 14:30:05] [INFO] èŠ‚ç‚¹ä¸Šçº¿: server (server.local -> 192.168.1.101)
[2024-11-27 14:30:05] [INFO] å·²æ›´æ–°hosts: server.local -> 192.168.1.101
...
```

---

## ğŸ” æµ‹è¯•è¿æ¥

### åŸºæœ¬ç”¨æ³•

```bash
lanlink ping <domain>
```

### ç¤ºä¾‹

```bash
lanlink ping server.local
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  æµ‹è¯•è¿æ¥: server.local
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DNS è§£æ:
âœ“ è§£ææˆåŠŸ: server.local -> 192.168.1.101

Hosts è®°å½•:
âœ“ æ‰¾åˆ°è®°å½•: 192.168.1.101
  çŠ¶æ€: online
  ä¸»æœºå: SERVER

Ping æµ‹è¯•:
âœ“ Ping æˆåŠŸ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ è¿æ¥æ­£å¸¸ âœ“
```

**å¤±è´¥ç¤ºä¾‹**ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  æµ‹è¯•è¿æ¥: unknown.local
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DNS è§£æ:
âœ— è§£æå¤±è´¥: lookup unknown.local: no such host

Hosts è®°å½•:
âš  Hosts æ–‡ä»¶ä¸­æœªæ‰¾åˆ°è®°å½•

Ping æµ‹è¯•:
âš  è·³è¿‡ï¼ˆæ— æ³•è§£æåŸŸåï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš  è¿æ¥å¼‚å¸¸ âœ—

å»ºè®®:
  1. ç¡®è®¤ç›®æ ‡è®¾å¤‡æ˜¯å¦è¿è¡Œ LanLink
  2. æ£€æŸ¥ç½‘ç»œè¿æ¥
  3. æŸ¥çœ‹æ—¥å¿—: lanlink logs
```

---

## ğŸ”§ å®ç”¨æŠ€å·§

### 1. å¿«é€Ÿå¥åº·æ£€æŸ¥

```bash
# ä¸€è¡Œå‘½ä»¤æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
lanlink status && lanlink list
```

### 2. ç›‘æ§æ—¥å¿—

```bash
# å®æ—¶ç›‘æ§ï¼Œåªçœ‹é‡è¦ä¿¡æ¯
lanlink logs -f --level info
```

### 3. è„šæœ¬é›†æˆ

```bash
# è·å–èŠ‚ç‚¹æ•°é‡
NODE_COUNT=$(lanlink list --json | jq '.summary.total')
echo "å…±å‘ç° $NODE_COUNT ä¸ªèŠ‚ç‚¹"

# æ£€æŸ¥ç‰¹å®šèŠ‚ç‚¹
if lanlink ping server.local > /dev/null 2>&1; then
    echo "Server åœ¨çº¿"
else
    echo "Server ç¦»çº¿"
fi
```

### 4. å®šæ—¶æ£€æŸ¥

**Windows (Task Scheduler):**
```powershell
# æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡çŠ¶æ€
$trigger = New-ScheduledTaskTrigger -Once -At (Get-Date) -RepetitionInterval (New-TimeSpan -Hours 1)
$action = New-ScheduledTaskAction -Execute "lanlink.exe" -Argument "status"
Register-ScheduledTask -TaskName "LanLink Status Check" -Trigger $trigger -Action $action
```

**Linux (cron):**
```bash
# æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡ï¼Œè®°å½•åˆ°æ–‡ä»¶
0 * * * * /usr/local/bin/lanlink status >> /var/log/lanlink-check.log 2>&1
```

---

## ğŸ“Š å¸¸è§ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å¯åŠ¨æ—¶æ£€æŸ¥

```bash
# å¯åŠ¨ LanLink
sudo lanlink &

# ç­‰å¾…å‡ ç§’
sleep 5

# éªŒè¯å¯åŠ¨æˆåŠŸ
lanlink status

# æŸ¥çœ‹å‘ç°çš„èŠ‚ç‚¹
lanlink list
```

### åœºæ™¯ 2: æ•…éšœæ’æŸ¥

```bash
# 1. æ£€æŸ¥çŠ¶æ€
lanlink status

# 2. æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
lanlink logs -n 50

# 3. æµ‹è¯•é—®é¢˜èŠ‚ç‚¹
lanlink ping problematic.local

# 4. å®æ—¶ç›‘æ§æ—¥å¿—
lanlink logs -f
```

### åœºæ™¯ 3: ç›‘æ§è„šæœ¬

åˆ›å»º `monitor.sh`:
```bash
#!/bin/bash

while true; do
    clear
    echo "=== LanLink Monitor ==="
    date
    echo ""
    
    lanlink status
    echo ""
    lanlink list --online
    
    sleep 10
done
```

è¿è¡Œï¼š
```bash
chmod +x monitor.sh
./monitor.sh
```

---

## ğŸ¯ å‘½ä»¤é€ŸæŸ¥è¡¨

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `lanlink` | å¯åŠ¨æœåŠ¡ | `lanlink` |
| `lanlink status` | æŸ¥çœ‹çŠ¶æ€ | `lanlink status` |
| `lanlink list` | åˆ—å‡ºèŠ‚ç‚¹ | `lanlink list --online` |
| `lanlink logs` | æŸ¥çœ‹æ—¥å¿— | `lanlink logs -f` |
| `lanlink ping` | æµ‹è¯•è¿æ¥ | `lanlink ping server.local` |
| `lanlink version` | æ˜¾ç¤ºç‰ˆæœ¬ | `lanlink -v` |
| `lanlink help` | æ˜¾ç¤ºå¸®åŠ© | `lanlink -h` |

---

## âš¡ å¿«æ·é”®

è¿è¡Œä¸­çš„ LanLink æœåŠ¡ï¼š
- `Ctrl+C` - ä¼˜é›…é€€å‡ºï¼ˆä¼šå‘é€ç¦»çº¿é€šçŸ¥ï¼‰

å®æ—¶æ—¥å¿—æŸ¥çœ‹ (`lanlink logs -f`)ï¼š
- `Ctrl+C` - åœæ­¢è·Ÿè¸ª

---

## ğŸ’¡ æç¤º

1. **æ‰€æœ‰å‘½ä»¤éƒ½å¯ä»¥åœ¨æœåŠ¡è¿è¡Œæ—¶æ‰§è¡Œ**ï¼Œä¸ä¼šäº’ç›¸å¹²æ‰°
2. **`lanlink list --json`** ç‰¹åˆ«é€‚åˆè„šæœ¬è‡ªåŠ¨åŒ–
3. **`lanlink logs -f`** æ˜¯è°ƒè¯•çš„æœ€ä½³å·¥å…·
4. **`lanlink ping`** å¯ä»¥å¿«é€ŸéªŒè¯èŠ‚ç‚¹è¿é€šæ€§
5. **`lanlink status`** æ˜¯æ—¥å¸¸ç›‘æ§çš„é¦–é€‰å‘½ä»¤

---

**Happy Linking!** ğŸš€

